<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SecureBoot Monitor Mode :: Microchip UNG BSP Documentation</title>
    <meta name="generator" content="Antora 3.1.4">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../..">Microchip UNG BSP Documentation</a>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="bsp" data-version="2025.09">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">BSP Releases</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">ReadMe</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../release-notes/nav.html">Release Notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../introduction.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../getting-started.html">Getting started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../bootloader.html">Bootloader</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Supported HW</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="lan966x.html">LAN966x</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-boot.html">Booting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-tfa.html">SecureBoot</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-tfa_ctl.html">TFA_CTL</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-overlays.html">Overlays</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-flexcom.html">FLEXCOM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-usart.html">USART</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-spi.html">SPI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-i2c.html">I2C</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-qspi.html">QSPI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-mmc.html">MMC</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-pinctrl.html">GPIO</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-mcan.html">MCAN</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-wdt.html">Watchdog Timer</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-aes-sha.html">Crypto HW Accelerators</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-otp.html">OTP Configuration from Linux userspace</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan966x-udphs.html">UDPHS - USB Device</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="sparx5.html">Sparx5</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sparx5-boot.html">Booting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sparx5-qusxgmii.html">QUSXGMII</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="lan969x.html">LAN969x</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-boot.html">Booting</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-tfa.html">SecureBoot</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-verified-boot.html">Verified Boot</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-flexcom.html">FLEXCOM</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-usart.html">USART</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-spi.html">SPI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-i2c.html">I2C</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-qspi.html">QSPI</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-mmc.html">MMC</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-pinctrl.html">GPIO</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-sgpio.html">SGPIO</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-mcan.html">MCAN</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-wdt.html">Watchdog Timer</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-otp.html">OTP Configuration from Linux userspace</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan969x-usb.html">USB Host Device</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="lan9645x.html">LAN9645x</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lan9645x-host-use.html">Using LAN9645x with a host board</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="create-secureboot.html">Creating SecureBoot Images</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="restore-secureboot.html">Restoring SecureBoot Images</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="secureboot-monitor-mode.html">SecureBoot Monitor Mode</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="pcie-rpi4cm.html">PCIe Endpoint with RPI CM4</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="lan966x-spi-host.html">LAN9662 as a SPI host</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../network_overview.html">Network</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tools_overview.html">Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../front_ports.html">Front Ports</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../tuning_performance.html">Tuning Network Performance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">L2 Bridge</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../bridge_configuration.html">Bridge Configuration</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Frame Forwarding</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../forwarding_overview.html">Forwarding Overview</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../frame_meta_data.html">Frame Metadata</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tc/tc-intro.html">TC Introduction</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../tc/tc-flower-vcap.html">TC and VCAP</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../vcap_tool.html">VCAP tool</a>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Ingress</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../basic_qos.html">Basic QoS</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tc/tc-is1.html">Classification (IS0/IS1)</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tc/tc-is2.html">ACL (IS2)</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../policing.html">Policing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="4">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Egress</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../scheduling.html">Scheduling</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../frame_preemption.html">Frame Preemption</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../shaping.html">Shaping</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tc/tc-es2.html">Egress ACL (ES2)</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tc/tc-etag.html">Basic VLAN tagging</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../tc/tc-es0.html">Rewriter VLAN tagging (ES0)</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../psfp.html">PSFP</a>
  </li>
  <li class="nav-item" data-depth="5">
    <a class="nav-link" href="../frer.html">FRER</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../l3_unicast_routing.html">L3 Unicast Routing</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Protection switching</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../mrp.html">MRP</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../cfm.html">CFM</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../ptp.html">PTP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../redbox.html">HSR/PRP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../xdp.html">eXpress Data Path (XDP)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../port_security.html">802.1X Port Security</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">BSP Releases</span>
    <span class="version">2025.09</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">BSP Releases</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">2025.09</a>
        </li>
        <li class="version">
          <a href="../../2025.06/index.html">2025.06</a>
        </li>
        <li class="version">
          <a href="../../2025.06-1/index.html">2025.06-1</a>
        </li>
        <li class="version">
          <a href="../../2025.03/index.html">2025.03</a>
        </li>
        <li class="version">
          <a href="../../2024.12/index.html">2024.12</a>
        </li>
        <li class="version">
          <a href="../../2024.09/index.html">2024.09</a>
        </li>
        <li class="version">
          <a href="../../2024.06/index.html">2024.06</a>
        </li>
        <li class="version">
          <a href="../../2024.03/index.html">2024.03</a>
        </li>
        <li class="version">
          <a href="../../2024.03-1/index.html">2024.03-1</a>
        </li>
        <li class="version">
          <a href="../../2023.12/index.html">2023.12</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="#">Older (on AWS)</a>
      <ul class="versions">
        <li class="version">
          <a href="http://mscc-ent-open-source.s3-eu-west-1.amazonaws.com/public_root/bsp/mscc-brsdk-doc-2023.09-1.html">2023.09-1</a>
        </li>
        <li class="version">
          <a href="http://mscc-ent-open-source.s3-eu-west-1.amazonaws.com/public_root/bsp/mscc-brsdk-doc-2023.09.html">2023.09</a>
        </li>
        <li class="version">
          <a href="http://mscc-ent-open-source.s3-eu-west-1.amazonaws.com/public_root/bsp/mscc-brsdk-doc-2023.06.html">2023.06</a>
        </li>
        <li class="version">
          <a href="http://mscc-ent-open-source.s3-eu-west-1.amazonaws.com/public_root/bsp/mscc-brsdk-doc-2023.03.html">2023.03</a>
        </li>
        <li class="version">
          <a href="http://mscc-ent-open-source.s3-eu-west-1.amazonaws.com/public_root/bsp/mscc-brsdk-doc-2022.12.html">2022.12</a>
        </li>
        <li class="version">
          <a href="http://mscc-ent-open-source.s3-eu-west-1.amazonaws.com/public_root/bsp/mscc-brsdk-doc-2022.09.html">2022.09</a>
        </li>
        <li class="version">
          <a href="http://mscc-ent-open-source.s3-eu-west-1.amazonaws.com/public_root/bsp/mscc-brsdk-doc-2022.06.html">2022.06</a>
        </li>
        <li class="version">
          <a href="http://mscc-ent-open-source.s3-eu-west-1.amazonaws.com/public_root/bsp/mscc-brsdk-doc-2022.03.html">2022.03</a>
        </li>
        <li class="version">
          <a href="http://mscc-ent-open-source.s3-eu-west-1.amazonaws.com/public_root/bsp/mscc-brsdk-doc-2021.12.html">2021.12</a>
        </li>
        <li class="version">
          <a href="http://mscc-ent-open-source.s3-eu-west-1.amazonaws.com/public_root/bsp/mscc-brsdk-doc-2021.09.html">2021.09</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">BSP Releases</a></li>
    <li>Supported HW</li>
    <li><a href="secureboot-monitor-mode.html">SecureBoot Monitor Mode</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">2025.09</button>
  <div class="version-menu">
    <a class="version is-current" href="secureboot-monitor-mode.html">2025.09</a>
    <a class="version is-missing" href="../../2025.06/index.html">2025.06</a>
    <a class="version is-missing" href="../../2025.06-1/index.html">2025.06-1</a>
    <a class="version is-missing" href="../../2025.03/index.html">2025.03</a>
    <a class="version is-missing" href="../../2024.12/index.html">2024.12</a>
    <a class="version is-missing" href="../../2024.09/index.html">2024.09</a>
    <a class="version is-missing" href="../../2024.06/index.html">2024.06</a>
    <a class="version is-missing" href="../../2024.03/index.html">2024.03</a>
    <a class="version is-missing" href="../../2024.03-1/index.html">2024.03-1</a>
    <a class="version is-missing" href="../../2023.12/index.html">2023.12</a>
  </div>
</div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="3">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">SecureBoot Monitor Mode</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The BL1 platform implementation includes a UART monitor to facilitate
secure provisioning and de-brick support of firmware, key provision as well as
other functions.</p>
</div>
<div class="paragraph">
<p>Following are the high-level features of the Monitor Mode:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The monitor mode can be entered as using the strapping pins on either
<a href="lan966x-boot.html#pin_modes" class="xref page">LAN966x</a> or
<a href="lan969x-boot.html#pin_modes" class="xref page">LAN969x</a>.</p>
</li>
<li>
<p>The protocol supports code download over RS232 and USB (serial device mode only).</p>
</li>
<li>
<p>The protocol is resilient to transmission errors</p>
</li>
<li>
<p>The protocol has data integrity checks.</p>
</li>
<li>
<p>The protocol can authenticate downloaded code, using necessary certificates,
digests, and <code>OTP_TBBR_ROTPK</code> in OTP (as TF-A normally authenticates BL2).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The monitor is intended to be used as a stepping stone for more complicated
features.</p>
</div>
<div class="paragraph">
<p>The SoC will act as a server, and a client will be connected by the RS232 or USB
cable.</p>
</div>
<div class="paragraph">
<p>If downloaded code is executed, it is entered in the same manner as
the BL1 executes a normal BL2 image, but using the BL2U image ID. If
code is not authenticated/executed, the normal boot process can be
resumed under client control.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitor_mode_protocol"><a class="anchor" href="#_monitor_mode_protocol"></a>1. Monitor Mode Protocol</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes a protocol that provides the features described in the
previous section.</p>
</div>
<div class="sect2">
<h3 id="_base_protocol_data_unit"><a class="anchor" href="#_base_protocol_data_unit"></a>1.1. Base Protocol Data Unit</h3>
<div class="paragraph">
<p>The protocol is by default only using printable ASCII characters, but
data payload <strong>can</strong> use binary (i.e. no) encoding.</p>
</div>
<div class="paragraph">
<p>The protocol format is defined by:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A Start-Of-Frame indicator '&gt;'</p>
</li>
<li>
<p>A single-character command type:</p>
<div class="ulist">
<ul>
<li>
<p>'V' - GET VERSION REQUEST</p>
</li>
<li>
<p>'S' - SEND DATA REQUEST</p>
</li>
<li>
<p>'D' - DATA CHUNK REQUEST</p>
</li>
<li>
<p>'U' - AUTHENTICATE REQUEST</p>
</li>
<li>
<p>'O' - OVERRIDE STRAPPING REQUEST</p>
</li>
<li>
<p>'C' - CONTINUE BOOT REQUEST</p>
</li>
<li>
<p>'T' - TRACE LOG-LEVEL</p>
</li>
<li>
<p>'P' - PROGRAM OTP ADDRESS</p>
</li>
<li>
<p>'R' - PROGRAM OTP ADDRESS WITH RANDOM DATA</p>
</li>
<li>
<p>'M' - COMMIT OTP EMULATION DATA</p>
</li>
<li>
<p>'G' - WRITE OTP REGIONS</p>
</li>
<li>
<p>'Q' - SJTAG READ CHALLENGE</p>
</li>
<li>
<p>'A' - SJTAG WRITE RESPONSE</p>
</li>
<li>
<p>'a' - ACK (response)</p>
</li>
<li>
<p>'n' - NACK (response)</p>
</li>
</ul>
</div>
</li>
<li>
<p>A single-character delimiter ','</p>
</li>
<li>
<p>A general-purpose command argument - 32 bits encoded as 8 hexadecimal
characters.</p>
</li>
<li>
<p>A single-character delimiter ','</p>
</li>
<li>
<p>A payload length field - 32 bits encoded as 8 hexadecimal
characters.</p>
</li>
<li>
<p>A single-character payload delimiter - '#' used for hex encoding or
'%' when no encoding (binary) is used.</p>
</li>
<li>
<p>The payload data - encoded as 2 hexadecimal characters per bytes of
data when encoding is used. This may be null if the payload length is zero.</p>
</li>
<li>
<p>CRC32c of the full PDU, excluding the SOF indicator. 32 bits encoded as 8 hexadecimal
characters.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The payload encoding format is decided by the transmitter, the receiver must be
capable of decoding both formats. The server must start operation in encoded
format.</p>
</div>
<div class="sect3">
<h4 id="_pdu_reference"><a class="anchor" href="#_pdu_reference"></a>1.1.1. PDU reference</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SOF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'&gt;'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 character</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delimiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">','</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 hex digits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delimiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">','</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload len</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 hex digits</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">delimiter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'#' or '%'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2 hex digits per payload byte (maybe empty)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CRC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 hex digits</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_pdu_examples"><a class="anchor" href="#_pdu_examples"></a>1.1.2. PDU examples</h4>
<div class="paragraph">
<p>The examples here are presented with the SOF marker, and a newline at
the end. The newline is purely presentational here, but it should be
noted that anything after the CRC part and until the SOF marker should
be discarded by the PDU reception process (at either side).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt;V,00000000,00000000#8bda80cb
&gt;a,00000000,00000018#56657273696f6e20312e33204d616e6963204d616e746973fb025b81
&gt;V,00000000,00000000%ad7b6723
&gt;a,00000000,00000018%Version 1.3 Manic Mantisaa2ca8d3
&gt;S,00004169,00000000#98DED8A3
&gt;n,00000000,00000000#ba356a97
&gt;D,000000a0,00000020#0623134302D0302102F056EB0020606010BD00BFC8451000F0B50C4687B018B996CDB78C
&gt;a,00000000,00000000#751AA63B</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_protocol_exchanges"><a class="anchor" href="#_protocol_exchanges"></a>1.2. Protocol exchanges</h3>
<div class="paragraph">
<p>These simple diagrams describe the PDU flows.</p>
</div>
<div class="paragraph">
<p>All exchanges are initiated from the client - which is in the
following diagrams assumed on the right, the server on the left.</p>
</div>
<div class="paragraph">
<p>All instances of "ACK" also represent a possible "NACK" in case of
failure.</p>
</div>
<div class="sect3">
<h4 id="_get_version"><a class="anchor" href="#_get_version"></a>1.2.1. Get Version</h4>
<div class="paragraph">
<p>The client might need to identify the firmware version.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>               &lt;&lt;&lt;&lt;&lt; "GET VERSION REQUEST"
                     "ACK+payload" &gt;&gt;&gt;&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>REQ: &gt;V,00000000,00000000#8bda80cb
RSP: &gt;a,00000000,00000018#56657273696f6e20312e33204d616e6963204d616e746973fb025b81</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_download_code"><a class="anchor" href="#_download_code"></a>1.2.2. Download code</h4>
<div class="paragraph">
<p>The client needs to download code to perform hardware operations.</p>
</div>
<div class="paragraph">
<p>The "SEND DATA REQUEST" defines the total length of download. If
ACK&#8217;ed, data transfer can be initiated.</p>
</div>
<div class="paragraph">
<p>The individual "DATA CHUNK REQUEST" units will contain download offset
and payload. Data must be downloaded sequentially. Data chucks are
ACK/NACK&#8217;ed individually in order for re-transmission to be
possible. The client dictates the individual chunk size (greater than
0).</p>
</div>
<div class="paragraph">
<p>The ACK/NACK PDU.arg field will match corresponding the DATA PDU field.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>               &lt;&lt;&lt;&lt;&lt; "SEND DATA REQUEST"
                     "ACK" &gt;&gt;&gt;&gt;
               &lt;&lt;&lt;&lt;&lt; "DATA DOWLOAD CHUNK #0000"
                     "ACK" &gt;&gt;&gt;&gt;
               &lt;&lt;&lt;&lt;&lt; "DATA DOWLOAD CHUNK #0001"
                     "ACK" &gt;&gt;&gt;&gt;
               ....</pre>
</div>
</div>
<div class="paragraph">
<p>Example (encoded and binary, same data):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>REQ: &gt;S,00000010,00000000#50e77db2
RSP: &gt;a,00000000,00000000#810d67bd
REQ: &gt;D,00000000,00000008#30313238343536377c2d3fb4
RSP: &gt;a,00000000,00000000#810d67bd
REQ: &gt;D,00000008,00000008#383961626364656631341093
RSP: &gt;a,00000008,00000000#2d330271
REQ: &gt;S,00000010,00000000%76469a5a
RSP: &gt;a,00000000,00000000%a7ac8055
REQ: &gt;D,00000000,00000008%01284567d8ba385d
RSP: &gt;a,00000000,00000000%a7ac8055
REQ: &gt;D,00000008,00000008%89abcdefe6968b93
RSP: &gt;a,00000008,00000000%0b92e599</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_state_diagram"><a class="anchor" href="#_state_diagram"></a>1.2.3. State diagram</h4>
<div class="paragraph">
<p>It is worth noting that the "DATA REQUEST" PDU is only accepted after
the "SEND REQUEST", and only until all data has been received. The
following state diagram illustrates this.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/bootstrap-upload-code.svg" alt="Data send state diagram" width="60%">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_authenticate_code"><a class="anchor" href="#_authenticate_code"></a>1.2.4. Authenticate code</h4>
<div class="paragraph">
<p>The client needs to authenticate downloaded code in order to execute
it.</p>
</div>
<div class="paragraph">
<p>The authentication operates on the <code>FWU_FIP</code> that typically have been
downloaded to SRAM first.</p>
</div>
<div class="paragraph">
<p>The <code>FWU_FIP</code> must contain the <code>BL2U</code> image as well as certificates to
authenticate it. If no ROTPK is deployed, authentication is skipped,
but still SHA digests in the certificate are checked to guarantee data
integrity. The trusted <code>FWU</code> certificate use the same ROTPK but a
different key and thus a different certificate than the normal
<code>BL2</code>/trusted firmware.</p>
</div>
<div class="paragraph">
<p>The <code>FWU_FIP</code> may contain other elements as well, but notice that
the SRAM download area is restricted to about 80K.</p>
</div>
<div class="paragraph">
<p>The <code>FWU_FIP</code> may also be placed direcly into storage media as well,
using external tools. The strappings must be reset (physically or
overridden) to elect the proper storage media before issuing the
<code>AUTHENTICATE</code> command if the FIP should be collected from the storage
media as opposed to a downloaded <code>FWU_FIP</code>.</p>
</div>
<div class="paragraph">
<p>If the authentication succeeds, the BL2U is immediately executed.</p>
</div>
<div class="paragraph">
<p>Note: The loading of the <code>BL2U</code> image from the SRAM FIP <strong>may</strong>
destructively overwrite the SRAM FIP while copying the image. This is
by design, and can be seen as a relocation of the <code>BL2U</code> image. As
certificates are read first as part of the authentication and used to
verify the image before execution, there is no data corruption
possible. And since the <code>BL2U</code> will execute after authentication, the
SRAM FIP is no longer of use.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>               &lt;&lt;&lt;&lt;&lt; "AUTHENTICATE REQUEST"
                     "ACK" &gt;&gt;&gt;&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>REQ: &gt;U,00000000,00000000#d21e980c
RSP: &gt;a,00000000,00000000#810d67bd</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_override_strapping"><a class="anchor" href="#_override_strapping"></a>1.2.5. Override strapping</h4>
<div class="paragraph">
<p>The client may need to override the device strapping, before normal boot is
resumed.</p>
</div>
<div class="paragraph">
<p>It is only possible to use the following values for strapping override:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>3: MMC</p>
</li>
<li>
<p>4: QSPI</p>
</li>
<li>
<p>5: SD card</p>
</li>
<li>
<p>6: PCIE endpoint</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The command will provide a strapping value that will override the actual device
strapping while continuing normal boot ("CONTINUE BOOT REQUEST").</p>
</div>
<div class="paragraph">
<p>When this request is ACK&#8217;ed, the override strapping is in effect.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>               &lt;&lt;&lt;&lt;&lt; "OVERRIDE STRAPPING REQUEST"
                     "ACK" &gt;&gt;&gt;&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>REQ: &gt;O,00000003,00000000#c51f321e
RSP: &gt;a,00000000,00000000#810d67bd</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_continue_boot"><a class="anchor" href="#_continue_boot"></a>1.2.6. Continue boot</h4>
<div class="paragraph">
<p>The client may need to continue the normal boot process.</p>
</div>
<div class="paragraph">
<p>When this request is ACK&#8217;ed, the system will continue the normal operation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>               &lt;&lt;&lt;&lt;&lt; "CONTINUE BOOT REQUEST"
                     "ACK" &gt;&gt;&gt;&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>REQ: &gt;C,00000000,00000000#1b9d4941
RSP: &gt;a,00000000,00000000#810d67bd</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_read_secure_jtag_challenge"><a class="anchor" href="#_read_secure_jtag_challenge"></a>1.2.7. Read Secure JTAG challenge</h4>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
<div class="sect3">
<h4 id="_write_secure_jtag_response_to_open_op_device"><a class="anchor" href="#_write_secure_jtag_response_to_open_op_device"></a>1.2.8. Write Secure JTAG response to open op device</h4>
<div class="paragraph">
<p>TODO</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_protocol_units"><a class="anchor" href="#_protocol_units"></a>1.3. Protocol Units</h3>
<div class="sect3">
<h4 id="_get_version_request"><a class="anchor" href="#_get_version_request"></a>1.3.1. GET VERSION REQUEST</h4>
<div class="paragraph">
<p>Sent by client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'V'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 (not used)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nil</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_send_data_request"><a class="anchor" href="#_send_data_request"></a>1.3.2. SEND DATA REQUEST</h4>
<div class="paragraph">
<p>Sent by client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'S'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total length of data to be sent</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nil</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_data_chunk_request"><a class="anchor" href="#_data_chunk_request"></a>1.3.3. DATA CHUNK REQUEST</h4>
<div class="paragraph">
<p>Sent by client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'D'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Offset of data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data bytes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_authenticate_request"><a class="anchor" href="#_authenticate_request"></a>1.3.4. AUTHENTICATE REQUEST</h4>
<div class="paragraph">
<p>Sent by client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'U'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 (not used)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">certificate + digest</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_execute_request"><a class="anchor" href="#_execute_request"></a>1.3.5. EXECUTE REQUEST</h4>
<div class="paragraph">
<p>Sent by client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'E'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 (not used)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nil</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_override_strapping_request"><a class="anchor" href="#_override_strapping_request"></a>1.3.6. OVERRIDE STRAPPING REQUEST</h4>
<div class="paragraph">
<p>Sent by client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'O'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New strapping value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nil</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_continue_boot_request"><a class="anchor" href="#_continue_boot_request"></a>1.3.7. CONTINUE BOOT REQUEST</h4>
<div class="paragraph">
<p>Sent by client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'C'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 (not used)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nil</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_set_max_trace_log_level"><a class="anchor" href="#_set_max_trace_log_level"></a>1.3.8. Set max trace log-level</h4>
<div class="paragraph">
<p>Sent by client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'T'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trace level, between 0 and 50. Smaller number is higher severity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nil</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>TF-A uses the following defines:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#define LOG_LEVEL_NONE       U(0)
#define LOG_LEVEL_ERROR      U(10)
#define LOG_LEVEL_NOTICE     U(20)
#define LOG_LEVEL_WARNING    U(30)
#define LOG_LEVEL_INFO       U(40)
#define LOG_LEVEL_VERBOSE    U(50)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_program_otp"><a class="anchor" href="#_program_otp"></a>1.3.9. Program OTP</h4>
<div class="paragraph">
<p>Sent by client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'P'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTP Address to program (byte address)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Value to program</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Notice if this command is used to program an already programmed address, then
the effect will be a logical <code>OR</code> of the provided value and the existing values.
Some OTP address has HW protection to avoid this. In other cases this is the
desired behaviour (setting more bits in a mask).</p>
</div>
<div class="paragraph">
<p>A maximum length of 1024 data bytes is allowed in one request.</p>
</div>
</div>
<div class="sect3">
<h4 id="_program_otp_with_secure_random_generated_values"><a class="anchor" href="#_program_otp_with_secure_random_generated_values"></a>1.3.10. Program OTP with secure random generated values</h4>
<div class="paragraph">
<p>Sent by client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'R'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTP Address to program (byte address)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 bytes length, encoded as a network-order (be) 32 bit integer.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Similar to 'P', but value is secure random generated. This is useful to program
the HUK.</p>
</div>
<div class="paragraph">
<p>A maximum length of 1024 data bytes is allowed in one request.</p>
</div>
</div>
<div class="sect3">
<h4 id="_program_otp_with_data_from_otp_emulation_layer"><a class="anchor" href="#_program_otp_with_data_from_otp_emulation_layer"></a>1.3.11. Program OTP with data from OTP emulation layer</h4>
<div class="paragraph">
<p>Sent by client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'M'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 (not used)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nil</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This will commit any data from the OTP emulation layer to the OTP HW.</p>
</div>
</div>
<div class="sect3">
<h4 id="_program_otp_with_otp_region_definitions"><a class="anchor" href="#_program_otp_with_otp_region_definitions"></a>1.3.12. Program OTP with OTP region definitions</h4>
<div class="paragraph">
<p>Sent by client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'G'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 (not used)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nil</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>This will write the OTP regions to the device should this not already
be programmed. The OTP regions are normally written during chip
production, so this command is only needed in rare circumstances.</p>
</div>
<div class="paragraph">
<p>See also <a href="#OTP Regions">[OTP Regions]</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_ack"><a class="anchor" href="#_ack"></a>1.3.13. ACK</h4>
<div class="paragraph">
<p>Sent by server.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'a'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depends on request type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depends on request type</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_nack"><a class="anchor" href="#_nack"></a>1.3.14. NACK</h4>
<div class="paragraph">
<p>Sent by server.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'n'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depends on request type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Possible) error cause text</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  This page was built using <a href="https://antora.org">Antora</a>
</footer>
<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
